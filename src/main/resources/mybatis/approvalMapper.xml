<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.mapper.ApprovalMapper">
    <insert id="insert_inbound" parameterType="ApprovalDto">
        insert into approval(
            approval_id,
            approver_id,
            bound_type,
            inbound_id,
            approval_status,
            created_at
        ) values(
            approval_seq.nextval,
            #{approver_id},
            'IN',
            #{inbound_id},
            #{approval_status},
            sysdate
        )
    </insert>
    <insert id="insert_outbound" parameterType="ApprovalDto">
        insert into approval(
            approval_id,
            approver_id,
            bound_type,
            inbound_id,
            outbound_id,
            approval_status,
            created_at
        ) values(
            approval_seq.nextval,
            #{approver_id},
            'OUT',
            null,
            #{outbound_id},
            #{approval_status},
            sysdate
        )
    </insert>
    <select id="selectAll" resultType="ApprovalDto">
        select * from approval
    </select>
</mapper>